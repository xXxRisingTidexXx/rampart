dsnParams: &dsnParams
  sslmode: disable
mining:
  dsnParams:
    <<: *dsnParams
    connect_timeout: '10'
  headers: &headers
    User-Agent: rampart-mining-bot/1.0.0
  domriaMiner: &domriaMiner
    fetcher:
      timeout: 40s
      portion: 100
      flags:
        primary: newbuildings=1
        secondary: secondary=1
      headers: *headers
      searchURL: https://dom.ria.com/searchEngine/?category=1&realty_type=2&operation_type=1&fullCategoryOperation=1_2_1&%s&page=%d&limit=%d
    sanitizer:
      originURLPrefix: https://dom.ria.com/uk/
      imageURLPrefix: https://cdn.riastatic.com/photos/
      stateDictionary:
        Київськ��: Київська
        Одес��ка: Одеська
        Одеськ��: Одеська
        К��ївська: Київська
        Черновицкая: Чернівецька
        Винницкая: Вінницька
        Тернопольськая: Тернопільська
        Киевская: Київська
        Житомирская: Житомирська
        Запорожская: Запорізька
        О��еська: Одеська
        Київс��ка: Київська
        Киї��ська: Київська
      stateSuffix: ' область'
      cityDictionary:
        Киє��о-Святошинський: Києво-Святошинський
        Івано-Франк��вськ: Івано-Франківськ
        Л��вів: Львів
        Киї��: Київ
        Івано-��ранківськ: Івано-Франківськ
        ��иїв: Київ
        Хмельниць��ий: Хмельницький
        Терно��іль: Тернопіль
        Хар��ів: Харків
        Ирпень: Ірпінь
        Дніпропетровськ: Дніпро
        Од��са: Одеса
        Івано-Франківсь��а: Івано-Франківська
      districtDictionary:
        Петрівське (нов. Святопетрівське): Святопетрівське
        Вознесенівський (Орджонікідзевський): Вознесенівський
        Дніпровський (Ленінський): Дніпровський
        Олександрівський (Жовтневий): Олександрівський
        Нові Дома (Немишлянський): Немишлянський
        Нові Дома (Слобідський): Слобідський
        Соломенський: Солом'янський
        Амур-Нижнеднепровський: Амур-Нижньодніпровський
        К��ївський: Київський
        Нагірний (Шевченківський): Шевченківський
        Нагірний (Київський): Київський
        Москалівка (Новобаварський): Новобаварський
        Вишеньк��: Вишенька
        Дарницьки��: Дарницький
        Шевченківськ��й: Шевченківський
        Мали��овський: Малиновський
        П��иморський: Приморський
        Петропавлівська Борщагів��а: Петропавлівська Борщагівка
        Деснян��ький: Деснянський
        Суворов��ький: Суворовський
        Шевчен��івський: Шевченківський
        Дарниц��кий: Дарницький
        Ірпінь: ''
      districtCitySwaps:
        - Києво-Святошинський
      districtEnding: ий
      districtSuffix: ' район'
      streetReplacements:
        - пр-т
        - проспект
        - просп.
        - проспект
        - пл.
        - площа
        - пров.
        - провулок
        - пер.
        - переулок
        - бул.
        - бульвар
        - наб.
        - набережна
        - вул.
        - вулиця
        - Вул.
        - вулиця
        - ул.
        - улица
        - бульв.
        - бульвар
      houseNumberReplacements:
        - №
        - ''
        - _
        - ''
        - ' (вул. Освіти)'
        - ''
        - ' к1'
        - ''
        - ' к2'
        - ''
        - ' к 2'
        - ''
        - ' к 5'
        - ''
        - '2-й пер. Куликовский'
        - ''
        - ' К2'
        - ''
        - '.к 3'
        - ''
        - ' к.1'
        - ''
        - ' д15'
        - ''
        - ' километр'
        - ''
        - ' 10 эт'
        - ''
        - ' '
        - ''
      houseNumberMaxLength: 20
    geocoder:
      timeout: 10s
      headers: *headers
      statelessCities:
        - Київ
      searchURL: https://nominatim.openstreetmap.org/search?state=%s&city=%s&county=%s&street=%s+%s&format=json&countrycodes=ua
    gauger:
      timeout: 40s
      headers: *headers
      interpreterURL: https://overpass.kumi.systems/api/interpreter?data=%s
      subwayCities:
        - Київ
        - Харків
        - Дніпро
      ssfSearchRadius: 2000
      ssfMinDistance: 25
      ssfModifier: 1000
      izfSearchRadius: 3000
      izfMinArea: 35000
      izfMinDistance: 30
      izfModifier: 0.001
      gzfSearchRadius: 2500
      gzfMinArea: 50000
      gzfMinDistance: 20
      gzfModifier: 0.001
    validator:
      minMediaCount: 5
      minPrice: 1
      minTotalArea: 12
      maxTotalArea: 560
      minLivingArea: 0
      minKitchenArea: 0
      minRoomNumber: 1
      maxRoomNumber: 9
      minSpecificArea: 12
      maxSpecificArea: 130
      minFloor: 1
      minTotalFloor: 2
      maxTotalFloor: 50
      minLongitude: -180
      maxLongitude: 180
      minLatitude: -90
      maxLatitude: 90
    storer:
      srid: 4326
  server: &server
    readTimeout: 5s
    writeTimeout: 5s
    maxHeaderBytes: 1048576
  domriaPrimaryMiner:
    <<: *domriaMiner
    alias: domria-primary
    housing: primary
    spec: '0-59/10 * * * *'
    server:
      <<: *server
      address: :9001
  domriaSecondaryMiner:
    <<: *domriaMiner
    alias: domria-secondary
    housing: secondary
    spec: '5-59/10 * * * *'
    server:
      <<: *server
      address: :9002
migrations:
  dsnParams:
    <<: *dsnParams
    connect_timeout: '15'
